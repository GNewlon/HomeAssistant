####################################################
#                                                  #
#                      cover                       #
#                                                  #
#################################################### 
  - platform: template
  # https://community.home-assistant.io/t/configure-a-cover-for-gate/605258
    covers:
      boat_lift:
        unique_id: '15912322314808'
#        device_class: garage
        friendly_name: "Boat Lift"
        value_template: >-
          {% set opening = is_state('switch.dock_relays_1_boatliftstate_opening','on') %}
          {% set closing = is_state('switch.dock_relays_1_boatliftstate_closing','on') %}
          {% set open = is_state('switch.dock_relays_1_boatliftstate_open','on') %}
          {% set closed = is_state('switch.dock_relays_1_boatliftstate_closed','on') %}
          {% if open and not closed %}
            open
          {% elif closed and not open %}
            closed
          {% elif not closed and not open %}
            opening
          {% elif closed and open %}
            sensor error
          {% else %}
            none
          {% endif %}         
        open_cover:
          service: script.boat_lift_opening
        close_cover:
          service: script.boat_lift_closing
        stop_cover:
          service: script.boat_lift_stop
        icon_template: >-
          {% if is_state('switch.dock_relays_1_boatliftstate_up', 'on') %}
            mdi:garage-open
          {% elif states('switch.dock_relays_1_boatliftstate_down', 'on') %}
            mdi:garage
          {% else %}
            mdi:garage-alert
          {% endif %}